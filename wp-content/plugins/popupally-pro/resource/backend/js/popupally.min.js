jQuery(document).ready(function(J){function M(){if("https:"===window.location.protocol){if("http:"===popupally_pro_data_object.ajax_url.substr(0,5).toLowerCase()){popupally_pro_data_object.ajax_url="https:"+popupally_pro_data_object.ajax_url.substr(5)}}}M();var X=J("#selected-tab"),r=J(),I=J("#popupally-import-wait-overlay");function l(at){J(".popupally-pro-option-setting-form[serialize-target]").each(function(){var av=J(this),au=av.attr("serialize-target"),aw=J("<form></form>");av.children().clone().appendTo(aw);J("."+au).val(JSON.stringify(aw.serializeArray()))})}function U(){J(".template-customization-block:not(.template-customization-block-active)").remove()}J(".popupally-setting-submit-button").on("click",function(aA){if(J(".delete-popup-checkbox:checked").length>0){var au=confirm("Deleted popups cannot be restored. Do you want to continue?");if(au!==true){return false}}var at=J(".template-customization-block.template-customization-block-active").find("[html-code-source]:not(:empty)");if(at.length>0){var aw=0,av=null,az=null,ay="Potential HTML error detected in the following elements:\n",ax=Math.min(3,at.length);for(aw=0;aw<ax;++aw){av=at[aw].getAttribute("popup-id");az=at[aw].getAttribute("html-code-source");ay+="- Popup #"+av+" ["+az+"]\n"}if(ax<at.length){ay+="and "+(at.length-ax)+" more\n"}ay+="\nMalformed HTML code might affect the entire page layout. Do you want to continue?";var au=confirm(ay);if(au!==true){return false}}I.show();U();l(J(this).parents("form"));return true});function F(){r.resize()}J(document).on("change propertychange","[input-all-false-check]",function(av){var au=J(this).attr("input-all-false-check"),at=J("[input-all-false-check="+au+"]:checked").length>0;if(at){J("."+au).show()}else{J("."+au).hide()}F()});function T(ay,aD,aB,aE,ax,at,aA){var aC=J(aD),az=aC.attr("name"),au=aC.attr("type"),aw=H(aC.val()),av="";if(az){az=H(aC.attr("name"));at+=1;if(au==="checkbox"){av="checkbox-form-fields";aB.push(az)}else{if(au==="hidden"){av="hidden-form-fields";aE.push(az)}else{av="other-form-fields";ax.push(az)}}ay.before(J(aA+av+"-name]["+at+']"/>').val(az));ay.before(J(aA+av+"-value]["+at+']"/>').val(aw))}return at}function K(ax,aC,aA,at,az,au,av){var aB=J(aC),ay=aB.attr("name"),aw=aB.html();if(ay){at+=1;ax.before(J(az+av+"-name]["+at+']"/>').val(ay));ax.before(J(az+av+"-value]["+at+']"/>').val(aw).attr("id",av+"-"+au+"-"+ay));aA.push(ay)}return at}function b(ay,av,au,ax,aA,at){var az=J(av),aw=az.attr("src");if(aw){au+=1;ay.before(J(ax+at+"]["+au+']"/>').val(aw))}return au}function ao(aw,ax){var au=0,av="",at=aw.length;for(;au<at;++au){av=aw[au].toLowerCase();if(-1<av.indexOf(ax)){return aw[au]}}return""}function E(aw){var av=0,au=aw.length,at=J("<select></select>"),ax;for(;av<au;++av){at.append(J("<option></option>").attr("value",aw[av]).text(aw[av]))}return at.html()}function ab(at,av){var au=at.find('option[value="'+av+'"]');at.children().not(au).removeAttr("selected");au.attr("selected","selected");return at}function g(aA,ay,aw){var au=0,ax=aA.length,at,av,az;for(;au<ax;++au){at=J(aA[au]);az=at.attr("name");av=J('[name="'+az.replace(/form-select-single-field/g,"checked-is-email")+'"]');if(av.prop("checked")){if(aw){ab(at,ay).change();return}}else{if(!aw){ab(at,ay).change();return}}}}function v(aG,aC,ay,aB){var aA=0,aE=aG.length,au=null,aw=null,aD=null,aF,az,av,at={},ax={},aH=E(aC);for(;aA<aE;++aA){au=J(aG[aA]);aw=au.val();au.empty().append(aH);aF=au.attr("name");if(aF.indexOf("][fluid_")>0){av=true;az=aF.substr(0,aF.indexOf("[elements]"));if(!(az in at)){at[az]=[];ax[az]={}}}else{av=false}if(""!==aw&&-1<J.inArray(aw,aC)){ab(au,aw).change();if(av){if(aw===ay){ax[az]["email"]=au}if(aw===aB){ax[az]["name"]=au}}}else{if(av){if(aF.indexOf("][form-select-single-field]")>0){at[az].push(au)}}else{aD=au.attr("sign-up-form-field");if("email"===aD&&""!==ay){au.val(ay).change()}else{if("name"===aD&&""!==aB){au.val(aB).change()}}}}}for(az in at){if(""!==ay&&!("email" in ax[az])){g(at[az],ay,true)}if(""!==aB&&!("name" in ax[az])){g(at[az],aB,false)}}}function j(av,au,ay,ax,aw,at){av.val("");au.val("get");ay.empty().append('<option value=""></option>');ax.empty().append('<option value=""></option>');aw.empty().append('<option value=""></option>');at.val("false").change()}J(document).on("change",".sign-up-form-raw-html",function(aM){var aD=J(this),aG=aD.attr("popup-id"),aE=J("#sign-form-error-"+aG),aF=aD.parent(),aw=J.trim(aD.val()),av=J("#sign-up-form-method-"+aG),az=J("#sign-up-form-action-"+aG),at=J("#sign-up-form-valid-"+aG),aO=J(".sign-up-form-select-"+aG),aB=J(".sign-up-form-checkbox-select-"+aG),aI=J(".sign-up-form-dropdown-select-"+aG),aL=null;var ay=H(aw);if(ay!==aw){aw=ay;aD.val(aw)}aE.hide();J(".sign-up-form-generated-"+aG).remove();if(""===aw){j(az,av,aO,aB,aI,at);return}try{aL=J(aw)}catch(aM){aE.show().text("Invalide form code. Please copy the entire HTML code block from your mailing list provider into the Sign-up form HTML field.");j(az,av,aO,aB,aI,at);return}var aA=aL.find("form");if(0===aA.length){aA=aL.filter("form")}if(0===aA.length){aE.show().text("A <form> element could not be found in the Sign-up form HTML Code you entered. Please copy the entire HTML code block from your mailing list provider into the Sign-up form HTML field.");j(az,av,aO,aB,aI,at);return}if(aA.length>1){aE.show().text("More than one form section is found. Only the first one will be used.");aA=J(aA[0])}at.val("true").change();var aN=aA.attr("method");if(typeof aN===typeof undefined||aN===false){aN="get"}av.val(aN);az.val(aA.attr("action"));var ax=[""],aH=[""],aQ=[""],aP=[""],au="",aK="",aC=0,aJ='<input class="sign-up-form-generated-'+aG+'" type="hidden" name="['+aG+"][";aA.find('input[type!="submit"]').each(function(aS,aR){aC=T(aF,aR,aQ,aH,ax,aC,aJ)});aA.find("textarea").each(function(aS,aR){aC=T(aF,aR,aQ,aH,ax,aC,aJ)});aA.find("select").each(function(aS,aR){aC=K(aF,aR,aP,aC,aJ,aG,"dropdown-form-fields")});aL.filter('script[type="text/javascript"]').each(function(aS,aR){aC=b(aF,aR,aC,aJ,aG,"javascript-links")});aL.find('script[type="text/javascript"]').each(function(aS,aR){aC=b(aF,aR,aC,aJ,aG,"javascript-links")});au=ao(ax,"email");aK=ao(ax,"name");v(aO,ax,au,aK);v(aB,aQ,"","");v(aI,aP,"","")});function ae(au,aB,at){var aw=au.parent(),aD=aw.offset().top,ax=aw.height(),aC=aw.width(),aA=aD+ax,az=au.height()+30,av=0,ay=au.hasClass("step-aside");if(!(aD>at||aA<aB)){aD=aD-30;av=Math.min(Math.max(0,aB-aD),ax-az);au.css("margin-top",av);if(ay){if(av>0){au.css("margin-left",aC+50)}else{au.css("margin-left",0)}}else{au.css("margin-left",0)}}}J(window).on("scroll",function(au){var at=J(window).scrollTop(),av=at+J(window).height();if(r){r.each(function(aw,ax){ae(J(ax),at,av)})}});function h(az,ax){var aw=0,ay=null,av=J('[toggle-group="'+az+'"]'),au="",at=false;for(aw=0;aw<av.length;++aw){ay=J(av[aw]);au=ay.attr("toggle-element");if(au!==ax){at=ay.prop("checked");if(at){ay.prop("checked",false).change()}}}}var ak=true,p=0;function aq(at){J("html,body").animate({scrollTop:at.offset().top-40},200);al()}function i(av,au){var at=JSON.parse(au);try{if("error" in at){throw (at.error)}else{var aw=at.style,ay=J("#popupally-style-loading-wait-"+av);aw=J(aw);ay.before(aw);ay.remove();y(aw);aw=at.display,ay=J("#popupally-display-loading-wait-"+av);aw=J(aw);ay.before(aw);ay.remove();y(aw);al()}}catch(ax){alert("Cannot display the styling details due to error:\n["+ax+"]\nPlease refresh the page and try again.")}}function z(at){if(J("#popupally-setting-display-customization-section-"+at).length<=0||J("#popupally-setting-style-customization-section-"+at).length<=0){try{var au={action:"popupally_pro_generate_detail_code",nonce:popupally_pro_data_object.update_nonce,id:at};J.ajax({type:"POST",url:popupally_pro_data_object.ajax_url,data:au,success:function(aw){i(at,aw)},error:function(ay,aw,ax){alert("Cannot show customization details due to error:\n["+ax+"]\nPlease refresh the page and try again.")}})}catch(av){alert("Cannot show customization details due to error:\n["+av+"]\nPlease refresh the page and try again.")}}}J(document).on("change propertychange keyup input paste","[toggle-element]",function(aw){var ay=J(this),av=ay.attr("toggle-element"),ax=J(av),aC=ay.attr("toggle-group"),au=ay.attr("toggle-class"),aA=ay.prop("checked"),at=ax.outerHeight(true),aB=ay.attr("min-height"),az=ay.attr("min-height-element"),aD=ay.attr("popup-id");++p;if(typeof az!==typeof undefined&&az!==false){az=J(az).outerHeight(true);aB=Math.max(aB,az)}if(ak){if(aC==="display"){ak=false;J("#style-toggle-"+aD).prop("checked",aA).change();ak=true}else{if(aC==="style"){ak=false;J("#display-toggle-"+aD).prop("checked",aA).change();ak=true}}}if(aA){if(aC){h(aC,av)}if(p>1){ax.css("overflow","visible").css("height","auto").addClass(au)}else{ax.animate({height:at+"px"},200,function(){ax.css("overflow","visible").css("height","auto")}).addClass(au)}if(ak){if("style"===aC||"display"===aC){z(aD)}}}else{if(p>1){ax.css("overflow","hidden").removeClass(au)}else{ax.animate({height:aB+"px"},200,function(){ax.css("overflow","hidden")}).removeClass(au)}}J(".popupally-name-edit").filter(":focus").focusout();--p});function al(){if(X.val()==="style"){var at=J(".popupally-setting-div").filter(".popupally-item-opened");if(at.length>0){r=at.find(".template-customization-block-active").find(".follow-scroll").filter(":visible");F();return}}r=J()}function N(av,at){var au=0,ax="",aw=J('[signup-form-hide][popup-id="'+av+'"][template-id="'+at+'"]');for(au=0;au<aw.length;++au){ax=aw[au].attributes["signup-form-hide"].value;if(aw[au].checked){J('[popup-id="'+av+'"][signup-html-template="'+ax+'"]').hide()}else{J('[popup-id="'+av+'"][signup-html-template="'+ax+'"]').show()}}}function Q(az,av){var ax=null,au=J("#template-customization-section-"+az),ay=J("#template-selection-value-"+az);ay.val(av);au.find(".template-customization-block").removeClass("template-customization-block-active");ax=J("#template-customization-block-"+az+"-"+av);if(ax.length===0){var aw=popupally_pro_default_code.html[av],at=popupally_pro_default_code.css[av];aw=aw.replace(/--id--/g,az).replace(/--plugin-url--/g,popupally_pro_data_object.plugin_url);at=at.replace(/--id--/g,az).replace(/--plugin-url--/g,popupally_pro_data_object.plugin_url);ax=J(aw);au.append(ax);y(ax);J("head").append('<style type="text/css">'+at+"</style>")}ax.addClass("template-customization-block-active");N(az,av);al();J('.sign-up-form-raw-html[popup-id="'+az+'"]').change();J("#information-destination-"+az).change()}J("html").on("change",".popupally-setting-style-template-select",function(av){var au=J(this),aw=au.attr("popup-id"),at=au.val();if(at==="iwjdhs"){at=J("#fluid-template-selector-"+aw).val()}Q(aw,at)});J("html").on("change",".popupally-setting-style-fluid-template-select",function(av){var au=J(this),aw=au.attr("popup-id"),at=au.val();Q(aw,at)});J("html").on("click",".popupally-header",function(au){var at=J(this).attr("toggle-target");J(at).prop("checked",!J(at).prop("checked"));J(at).change()});J("html").on("click",".popupally-style-header-name",function(at){at.stopPropagation()});J("[export-link][export-selection]").on("click",function(av){var at=J(this).attr("export-selection"),au=J(this).attr("export-link");au=au+"&id="+J(at).val();window.open(au,"_blank");return false});function O(az,au,ay){var at=JSON.parse(au);try{if("error" in at){throw (at.error)}else{var av=at.display,ax=J("#popupally-display-div-"+az);av=J(av);ax.before(av);ax.remove();y(av);av=at.style;ax=J("#popupally-style-div-"+az);av=J(av);ax.before(av);ax.remove();y(av);av=at.css;ax=J("#popupally-preview-css-"+az);ax.before(av);ax.remove();al()}alert("Import successful:\n["+ay+"] => Popup #"+az)}catch(aw){alert("Cannot import settings due to error:\n["+aw+"]\nPlease refresh the page and try again.")}finally{I.hide()}}J("#popupally-import-file").change(function(av){if(av.target.files[0]){J("#import-button").show();var au=av.target.files[0].name.indexOf(" - "),at=av.target.files[0].name.substring(0,au);if(J('#popupally-import-selection option[value="'+at+'"]').length!==0){J("#popupally-import-selection").val(at)}}else{J("#import-button").hide()}});J("[import-selection]").click(function(ax){var au=J(this).attr("import-selection"),az=J(au).val(),aw=document.getElementById("popupally-import-file").files[0],ay=document.getElementById("popupally-import-file").files[0].name;if(aw){var av=confirm("Import operation will overwrite the current settings for Popup #"+az+".\nThis operation cannot be undone. Do you want to continue?");if(av!==true){return false}I.show();var at=new FileReader();at.onload=function(aC){try{var aA=aC.target.result,aB={action:"popupally_pro_generate_import_code",nonce:popupally_pro_data_object.update_nonce,setting:encodeURI(aA),id:az};J.ajax({type:"POST",url:popupally_pro_data_object.ajax_url,data:aB,success:function(aD){O(az,aD,ay)},error:function(aF,aD,aE){alert("Import failed due to error:\n["+aE+"]\nPlease send the error message to AmbitionAlly support along with the .popupally file")}})}catch(aC){alert("Import failed due to error:\n["+aC+"]\nPlease send the error message to AmbitionAlly support along with the .popupally file");I.hide()}};at.readAsText(aw)}ax.stopPropagation();return false});function ai(au,at){J(au).val(at.filter(":checked").length)}J("[update-num-trigger]").each(function(au,aw){var at=J(aw).attr("update-num-trigger"),av=J(at);av.on("change propertychange",function(ax){ai(aw,av)});ai(aw,av)});J("html").on("click touchend","[tab-group]",function(ay){var ax=J(this),au=ax.attr("tab-group"),aw=ax.attr("target"),av=ax.attr("active-class"),at=J("["+au+"]");J("[tab-group="+au+"]").removeClass(av);ax.addClass(av);at.filter("["+au+"!="+aw+"]").hide();at.filter("["+au+"="+aw+"]").show();if(av==="popupally-style-responsive-tab-active"){al()}});J("html").on("change","[name-sync-master]",function(at){var av=J(this).attr("name-sync-master"),au=J(this).val();J("[name-sync-text="+av+"]").text(au);J("[name-sync-val="+av+"]").val(au)});J("html").on("change","[name-sync-val]",function(at){var av=J(this).attr("name-sync-val"),au=J(this).val();J("[name-sync-master="+av+"]").val(au).change()});J("html").on("click",".popupally-name-edit",function(at){at.stopPropagation();return false});J("html").on("focusout",".popupally-name-edit",function(at){var au=J(this).attr("data-dependency");J("#"+au).val("display").change()});J("html").on("keypress",".popupally-name-edit",function(au){var at=au.keyCode||au.which;if(at==13){var av=J(this).attr("data-dependency");J("#"+av).val("display").change()}});function x(av){var au=av.attr("popupally-delete-warning");if(au){var at=confirm(au);if(at!==true){return false}}return true}J(document).on("touchend click",".popupally-fluid-element-delete",function(au){au.preventDefault();var at=J(this);if(x(at)){m(at)}return false});J(document).on("touchend click",".popupally-fluid-responsive-delete",function(au){au.preventDefault();var at=J(this);if(x(at)){t(at)}return false});J(document).on("touchend click","[popupally-delete-element]",function(av){av.preventDefault();var au=J(this),at=J(au.attr("popupally-delete-element"));if(x(au)){at.remove()}return false});J(document).on("touchend click","[popupally-delete-split-test-row]",function(aw){aw.preventDefault();var av=J(this),au=J(av.attr("popupally-delete-split-test-row")),at=null;if(x(av)){at=av.parents(".popupally-split-test-definition-table");au.remove();k(at,false)}return false});J(document).on("touchend click","[popupally-css-delete-element]",function(ax){ax.preventDefault();var aw=J(this),au=aw.attr("popupally-delete-warning"),av=J(aw.attr("popupally-css-delete-element"));if(au){var at=confirm(au);if(at!==true){return false}}av.find("input").each(function(aA,aC){var az=J(aC),ay=az.attr("preview-update-target-css"),aB=az.attr("preview-update-target-css-property");if(typeof ay!==typeof undefined&&ay!==false){if(typeof aB===typeof undefined||aB===false){aB=az.attr("preview-update-target-css-property-px")}if(aB.indexOf("hover--")>=0){an(ay,aB.replace("hover--",""))}else{J(ay).css(aB,"")}return}ay=az.attr("preview-update-target-css-background-img");if(typeof ay!==typeof undefined&&ay!==false){J(ay).css("background-image","");return}ay=az.attr("preview-update-target-css-placeholder-color");if(typeof ay!==typeof undefined&&ay!==false){af(ay);return}ay=az.attr("preview-update-target-css-background-img-hover");if(typeof ay!==typeof undefined&&ay!==false){an(ay,"background-image");return}});av.remove();return false});J(".popupally-pro-tab-label").mouseenter(function(){J(this).css("border-width","1px").animate({width:"160px"},500)});J(".popupally-pro-tab-label").mouseleave(function(){J(this).animate({width:"30px"},500).css("border-width","0")});function ad(au,aw,av){var at=new Image();at.src=au;J(at).on("load",function(){aw.val(at.width).change();av.val(at.height).change()})}var ap=null,a={},C="{{target}}::-webkit-input-placeholder{color:{{val}} !important;}{{target}}:-moz-placeholder{color:{{val}} !important;}{{target}}::-moz-placeholder{color:{{val}} !important;}";function ar(){if(null===ap){var at=document.createElement("style");ap=J(at);ap.attr("type","text/css");ap.attr("id","inlinestyle");J("head").append(at)}}function o(){var au="",at;for(at in a){au+=a[at]}ap.text(au)}function q(av,at){var au="";ar();var aw=av+":placeholder-text-color";if(jQuery.browser.msie==true){if(aw in a){document.styleSheets.inlinestyle.deleteRule(a[aw]);au=av+":-ms-input-placeholder{color:"+at+" !important;}";document.styleSheets.inlinestyle.insertRule(au,a[aw])}else{document.styleSheets.inlinestyle.addRule(av+":-ms-input-placeholder","color:"+at+" !important;");a[aw]=document.styleSheets.inlinestyle.rules.length-1}}else{a[aw]=C.replace(/{{target}}/g,av).replace(/{{val}}/g,at);o()}}function af(at){ar();var au=at+":placeholder-text-color";if(jQuery.browser.msie==true){if(au in a){document.styleSheets.inlinestyle.deleteRule(a[au])}}else{if(au in a){delete a[au];o()}}}function S(av,aw,at){var au;ar();if(jQuery.browser.msie==true){if(aw in a){document.styleSheets.inlinestyle.deleteRule(a[aw]);au=av+"{"+at+"}";document.styleSheets.inlinestyle.insertRule(au,a[aw])}else{document.styleSheets.inlinestyle.addRule(av,at);a[aw]=document.styleSheets.inlinestyle.rules.length-1}}else{a[aw]=av+"{"+at+"}";o()}}function W(at){ar();if(jQuery.browser.msie==true){if(at in a){document.styleSheets.inlinestyle.deleteRule(a[at])}}else{if(at in a){delete a[at];o()}}}function w(au,av,aw){var ax=au+":hover",ay=ax+"--"+av,at=av+":"+aw+" !important;";S(ax,ay,at)}function an(at,au){var av=at+":hover",aw=av+"--"+au;W(aw)}function ag(at){at=at.replace(/=""/g,"").replace(/=''/g,"").replace(/\s+>/g,">").replace(/<br\s*>/g,"").replace(/<br\s*\/>/g,"");at=at.replace(/&#\d+;/g,"").replace(/&#x[0-9a-f]+;/g,"").replace(/&\w+;/g,"");var au=J("<div>").html(at).html();if(au.length===at.length){return""}au=au.replace(/ /g,"");at=at.replace(/ /g,"");at=at.replace(/\/>/,">");if(au.length===at.length){return""}return"Invalid HTML code. Please make sure all open tags have the corresponding close tag"}function H(au){var at="",aw=0,av;if(au){for(;aw<au.length;++aw){av=au.charCodeAt(aw);if(av>127){at+="&#"+av+";"}else{at+=au.charAt(aw)}}}return at}J(document).on("click",".no-click-through",function(at){return false});J(document).on("change propertychange keyup input paste","[preview-update-target]",function(ay){try{var ax=J(this),av=ax.attr("preview-update-target"),au=ax.val(),at=J(av),az;if(ay.type==="change"){az=H(au);if(az!==au){au=az;ax.val(au)}var aw=ax.attr("html-error-check");if(typeof aw!==typeof undefined&&aw!==false){J(aw).text(ag(au))}}at.html(au).resize()}catch(ay){}});J(document).on("change propertychange keyup input paste","[preview-update-target-value]",function(au){var at=J(this).attr("preview-update-target-value");J(at).val(J(this).val()).resize()});J(document).on("change paste","[preview-update-target-img]",function(au){var at=J(this).attr("preview-update-target-img");J(at).attr("src",J(this).val()).resize()});J(document).on("change paste","[preview-update-target-css-background-img]",function(aw){var av=J(this),au=av.attr("preview-update-target-css-background-img"),ax=av.val(),at=av.attr("image-dimension-attribute");if(ax){J(au).css("background-image","url("+ax+")").resize();if(at){ad(ax,J("#"+at+"-width"),J("#"+at+"-height"))}}else{J(au).css("background-image","none").resize();if(at){J("#"+at+"-width").val("0").change();J("#"+at+"-height").val("0").change()}}});J(document).on("change paste","[preview-update-target-css-background-img-hover]",function(av){var au=J(this),at=au.attr("preview-update-target-css-background-img-hover"),aw=au.val();if(aw){w(at,"background-image","url("+aw+")")}else{w(at,"background-image","none")}});J(document).on("change propertychange keyup input paste","[preview-update-target-css][preview-update-target-css-property]",function(ax){var aw=J(this),au=aw.hasClass("nqpc-picker-input-iyxm"),av=aw.attr("preview-update-target-css"),at=aw.attr("preview-update-target-css-property"),ay=aw.val();if(au){if(ay){if("#"!==ay[0]){ay="#"+ay}ay+="000000";ay=ay.substring(0,7)}else{ay="transparent"}if(at.indexOf("hover--")>=0){w(av,at.replace("hover--",""),ay)}else{J(av).css(at,ay)}}else{if(aw.val()!=="other"){if(at==="box-shadow"){J(av).css("-webkit-box-shadow",ay);J(av).css("-moz-box-shadow",ay)}if(at.indexOf("hover--")>=0){w(av,at.replace("hover--",""),ay)}else{J(av).css(at,ay).resize()}}}});J(document).on("change propertychange keyup input paste","[preview-update-target-css][preview-update-target-css-property-px]",function(av){var au=J(this).attr("preview-update-target-css"),at=J(this).attr("preview-update-target-css-property-px");J(au).css(at,J(this).val()+"px").resize();if("border-radius"===at){J(au).css("-moz-border-radius",J(this).val()+"px").css("-webkit-border-radius",J(this).val()+"px").resize()}});J(document).on("change","[preview-update-target-css-hide]",function(au){var at=J(this).attr("preview-update-target-css-hide");J(at).css("display",J(this).val()).resize()});J(document).on("change propertychange keyup input paste","[preview-update-target-hide-checked]",function(au){var at=J(this).attr("preview-update-target-hide-checked");if(J(this).prop("checked")){J(at).hide().resize()}else{J(at).show().resize()}});J(document).on("change propertychange keyup input paste","[preview-update-target-placeholder]",function(au){var at=J(this).attr("preview-update-target-placeholder");J(at).attr("placeholder",J(this).val()).resize()});J(document).on("change propertychange keyup input paste","[preview-update-target-input-color]",function(av){var au=J(this),at=au.attr("preview-update-target-input-color"),aw=au.val();J(at).css("color",aw).resize();q(at,aw)});J(document).on("change propertychange keyup input paste","[preview-update-target-css-placeholder-color]",function(av){var au=J(this),at=au.attr("preview-update-target-css-placeholder-color"),aw=au.val();q(at,aw)});J(document).on("change propertychange keyup input paste","[preview-update-target-type]",function(ax){var aw=J(this),av=aw.attr("preview-update-target-type"),au=aw.attr("popup-id"),az=aw.attr("form-dropdown-selection"),at=aw.attr("email-dropdown-selection"),ay=aw.val();J(av).each(function(aC,aE){var aB=J(aE),aH=aB.attr("id"),aA=aB.attr("class"),aD=aB.attr("style"),aF=aB.attr("placeholder"),aG=null;if(ay==="multi"){aG=J("<textarea></textarea>")}else{if(ay==="checkbox"){aG=J('<input type="checkbox"/>')}else{if(ay==="dropdown"){aG=J("<select></select>")}else{aG=J('<input type="text"/>')}}}aG.attr({id:aH,"class":aA,style:aD,placeholder:aF});aB.before(aG);aB.remove()});if(ay==="dropdown"){if(J("#information-destination-"+au).val()==="form"){if(az){J(az).change()}}else{if(at){J(at).change()}}}});J(document).on("change propertychange keyup input paste","[preview-update-target-input-type]",function(av){var au=J(this),at=au.attr("preview-update-target-input-type");if(au.is(":checked")){J(at).attr("type","email")}else{J(at).attr("type","text")}});J(document).on("change propertychange keyup input paste","[preview-update-target-checkbox-status]",function(av){var au=J(this),at=au.attr("preview-update-target-checkbox-status"),aw=au.val();J(at).prop("checked",aw==="checked")});J(document).on("change propertychange keyup input paste","[preview-update-target-dropdown-selection]",function(aw){var av=J(this),au=av.attr("preview-update-target-dropdown-selection"),ay=av.attr("popup-id"),ax=av.val(),at=J("#dropdown-form-fields-"+ay+"-"+ax);if(at.length>0){J(au).empty().append(at.val())}});J(document).on("change","[preview-update-target-select-options]",function(ax){var aw=J(this),av=aw.attr("preview-update-target-select-options"),au=aw.val(),at=0;J(av).empty();au=au.split(",");for(;at<au.length;++at){J(av).append(J("<option></option>").text(au[at]))}});J(document).on("mouseenter",".popupally-preview-element",function(au){var at=J(this);if(at.is("div")){at.append('<div class="popupally-preview-hover-box"></div>')}});J(document).on("mouseleave",".popupally-preview-element",function(au){var at=J(this);if(at.is("div")){at.find(".popupally-preview-hover-box").remove()}});J(document).on("click touchend",".popupally-preview-element",function(ax){var aw=J(this),az=aw.attr("id"),ay="#"+az.replace(/popupally-preview-/g,"popup-fluid-element-customization-"),au=az.replace(/popupally-preview-/g,"popup-fluid-element-customization-toggle-"),at=J(ay),av=J("#"+au);++p;if(!av.prop("checked")){av.prop("checked",true).change()}aq(at);--p});J(document).on("mouseenter","[popupally-preview-linked]",function(au){var at=J(this);if(at.is("div")){at.append('<div class="popupally-preview-hover-box"></div>')}});J(document).on("mouseleave","[popupally-preview-linked]",function(au){var at=J(this);if(at.is("div")){at.find(".popupally-preview-hover-box").remove()}});J(document).on("click touchend","[popupally-preview-linked]",function(av){var au=J(this),aw=au.attr("popupally-preview-linked"),at=J("#"+aw);aq(at)});function f(ay,at){var av=ay.attr("auto-adjust-"+at+"-source"),ax=ay.attr("auto-adjust-trigger"),au=ay.attr("responsive-id"),az=parseInt(ay.val()),aw=0;if(typeof ax===typeof undefined||ax===false){return true}if(!J('[auto-adjust-trigger-source="'+ax+'"]').is(":checked")){return true}aw=parseInt(J("[auto-adjust-"+at+'-source="'+av+'"][responsive-id="0"]').val());if(aw<=0){return true}az=az/aw;J("[auto-adjust-"+at+'="'+av+'"][responsive-id="'+au+'"]').each(function(aD,aG){var aC=J(aG),aA=aC.attr("element-id"),aB=aC.attr("auto-adjust-type"),aH=aC.val(),aF=null,aE=J("[auto-adjust-"+at+'="'+av+'"][element-id="'+aA+'"][auto-adjust-type="'+aB+'"][responsive-id="0"]');if(aE.length!==1){return}aF=aE.val();if(aF==="auto"||(aF.length>1&&aF.indexOf("%")===aF.length-1)){if(aF!==aH){aC.val(aF).change()}return}else{if(aF.length>2&&aF.indexOf("px")===aF.length-2){aF=parseInt(aF.substring(0,aF.length-2));aC.val(Math.round(aF*az)+"px").change()}else{aF=parseInt(aF);aC.val(Math.round(aF*az)).change()}}})}J(document).on("change","[auto-adjust-width-source]",function(at){f(J(this),"width")});J(document).on("change","[auto-adjust-height-source]",function(at){f(J(this),"height")});J(document).on("change","[auto-adjust-trigger-source]",function(av){var au=J(this),at=au.attr("auto-adjust-trigger-source");J('[auto-adjust-trigger="'+at+'"]').change()});function y(at){at.find(".nqpc-picker-input-iyxm").each(function(au,av){popupallypro_jscolor.bind_element(av)});at.find("[update-num-trigger]").each(function(av,ax){var au=J(ax).attr("update-num-trigger"),aw=J(au);aw.on("change propertychange",function(ay){ai(ax,aw)});ai(ax,aw)});at.find("[preview-update-target]").change();at.find("[preview-update-target-css-background-img-hover]").change();at.find("[preview-update-target-css-placeholder-color]").change();at.find('[preview-update-target-css][preview-update-target-css-property^="hover--"]').change()}function aa(at){var au=at.css("background-color");at.css("background-color","#ff0000");setTimeout(function(){at.css("background-color",au)},200)}function G(az){var aB=J(this),aD=aB.attr("popup-id"),aC=aB.attr("template-id"),ax=aD+"-"+aC,aA=J("#popupally-max-responsive-"+ax),au=parseInt(aA.val())+1,at=popupally_pro_default_code["fluid-responsive-header"].replace(/--plugin-url--/g,popupally_pro_data_object.plugin_url),ay=J("#popupally-responsive-customization-filler-header-"+ax);aA.val(au);at=s(at,aD,aC,au,false,false);ay.before(at);ay=J("#popupally-responsive-customization-"+ax);ay.attr("colspan",parseInt(ay.attr("colspan"))+1);var aw=null,av=J("<form></form>");ay.children().clone().appendTo(av);aw={action:"popupally_pro_generate_fluid_customization_code",nonce:popupally_pro_data_object.update_nonce,setting:encodeURI(JSON.stringify(av.serializeArray())),id:aD,uid:aC,new_rid:au};I.show();J.ajax({type:"POST",url:popupally_pro_data_object.ajax_url,data:aw,success:function(aE){u(aE,ay)},error:function(aG,aE,aF){alert("Cannot add responsive panel due to error:\n["+aF+"]\nPlease refresh the page and try again.")}})}function u(au,ax){var at=JSON.parse(au);try{if("error" in at){alert("Cannot add responsive panel due to error:\n["+at.error+"]\nPlease refresh the page and try again.")}else{var av=J(at.html);ax.append(av);y(av);ax.find("[preview-update-target]").change()}}catch(aw){alert("Cannot add responsive panel due to error:\n["+aw+"]\nPlease refresh the page and try again.")}finally{I.hide()}}function t(ay){var av=ay.attr("popup-id"),at=ay.attr("template-id"),au=ay.attr("responsive-id"),ax=av+"-"+at+"-"+au,aw=J("#popupally-fluid-responsive-header-"+ax);aw.remove();aw=J("#popupally-style-responsive-"+ax);aw.remove();aw=J("#popupally-responsive-customization-"+av+"-"+at);aw.attr("colspan",parseInt(aw.attr("colspan"))-1);aw=J("#popupally-fluid-responsive-header-"+av+"-"+at+"-0");aw.click()}function ah(az){var aB=J(this),aD=aB.attr("popup-id"),aC=aB.attr("template-id"),ax=aD+"-"+aC,aA=J("#popupally-max-element-"+ax),au=parseInt(aA.val())+1,av=J("#popupally-style-add-element-"+ax).val();if(!av){return false}aA.val(au);var aw,at=popupally_pro_default_code["fluid-element-preview"][av].replace(/--plugin-url--/g,popupally_pro_data_object.plugin_url),ay=J(".popupally-pro-inner-"+ax);at=s(at,aD,aC,false,au,false);ay.each(function(aF,aH){var aE=J(aH),aG=aE.attr("responsive-id");aE.append(at.replace(/--rid--/g,aG))});at=popupally_pro_default_code["fluid-element-customization"][av].replace(/--plugin-url--/g,popupally_pro_data_object.plugin_url);aw=popupally_pro_default_code["fluid-element-customization"]["responsive-"+av].replace(/--plugin-url--/g,popupally_pro_data_object.plugin_url);ay=J(".customization-section-"+ax);at=s(at,aD,aC,false,au,false);aw=s(aw,aD,aC,false,au,false);ay.each(function(aF,aH){var aE=J(aH),aG=aE.attr("responsive-id");if(aG==="0"){aE.append(at.replace(/--rid--/g,aG))}else{aE.append(aw.replace(/--rid--/g,aG))}});if(av==="input"){J('.sign-up-form-raw-html[popup-id="'+aD+'"]').change();J("#information-destination-"+aD).change()}}function P(az){var aB=J(this),aE=aB.attr("popup-id"),aD=aB.attr("template-id"),au=aB.attr("element-id"),aw=aE+"-"+aD,aA=J("#popupally-max-element-"+aw),aC=parseInt(aA.val())+1,ax=aE+"-"+aD+"-"+aC,at='name="\\['+aE+"\\]\\["+aD+"\\]\\[elements\\]\\["+au+"\\]",av='name="['+aE+"]["+aD+"][elements]["+aC+"]",ay;aw=aw+"-"+au;aA.val(aC);at=new RegExp(at,"g");ay=J(".popupally-pro-inner-"+aE+"-"+aD);ay.each(function(aH,aK){var aG=J(aK),aF=aG.find(".popupally-preview-"+aw),aI=aG.attr("responsive-id"),aJ=J("<div>").append(aF.clone()).html();aJ=aJ.replace(new RegExp(aw+"-"+aI,"g"),ax+"-"+aI);aJ=aJ.replace(new RegExp(aw,"g"),ax);aG.append(aJ)});ay=J(".customization-section-"+aE+"-"+aD);ay.each(function(aI,aM){var aH=J(aM),aG=aH.find(".popup-fluid-element-customization-"+aw),aK=aH.attr("responsive-id"),aL=J("<div>").append(aG.clone()).html(),aJ='name="\\['+aE+"\\]\\["+aD+"\\]\\[responsive\\]\\["+aK+"\\]\\[elements\\]\\["+au+"\\]",aF='name="['+aE+"]["+aD+"][responsive]["+aK+"][elements]["+aC+"]";aL=aL.replace(new RegExp(aw+"-"+aK,"g"),ax+"-"+aK);aL=aL.replace(new RegExp(aw,"g"),ax);aL=aL.replace(at,av);aJ=aJ.replace(/\-/g,"\\-");aL=aL.replace(new RegExp(aJ,"g"),aF);aL=aL.replace(new RegExp('element-id="'+au+'"',"g"),'element-id="'+aC+'"');aL=aL.replace(new RegExp('element-order="identifier" value="'+au+'"',"g"),'element-order="identifier" value="'+aC+'"');aL=J(aL);aH.append(aL);y(aL);J("#popup-fluid-element-customization-toggle-"+ax+"-"+aK).prop("checked",false).change()});J('.sign-up-form-raw-html[popup-id="'+aE+'"]').change();alert("The element has been copied (added as a new element)!")}function m(az){var aw=az.attr("popup-id"),av=az.attr("template-id"),au=az.attr("element-id"),ay=aw+"-"+av+"-"+au,ax=J(".popup-fluid-element-customization-"+ay),at=J(".popupally-preview-"+ay);ax.remove();at.remove()}function s(ay,ax,au,aw,at,av){if(ax){ay=ay.replace(/--id--/g,ax)}if(au){ay=ay.replace(/--uid--/g,au)}if(aw){ay=ay.replace(/--rid--/g,aw)}if(at){ay=ay.replace(/--eid--/g,at)}if(av){ay=ay.replace(/--label--/g,av)}return ay}function am(az){var aB=J(this),aF=aB.attr("popup-id"),aE=aB.attr("template-id"),at=aB.attr("element-id"),aw=aF+"-"+aE+"-"+at,au=J("#popupally-style-add-css-"+aw),av=au.val(),aG=J(".css-item-"+aw+"-"+av);if(!av){return false}if(aG.length>0){aa(aG);return false}var ax=au.children("option").filter(":selected"),aD=ax.text().trim(),aC=popupally_pro_default_code["fluid-css-desktop-customization"][av].replace(/--plugin-url--/g,popupally_pro_data_object.plugin_url),aA=popupally_pro_default_code["fluid-css-responsive-customization"][av].replace(/--plugin-url--/g,popupally_pro_data_object.plugin_url),ay=J(".customization-element-"+aw);aC=s(aC,aF,aE,false,at,aD);aA=s(aA,aF,aE,false,at,aD);ay.each(function(aJ,aL){var aI=J(aL),aK=aI.attr("responsive-id"),aH=null;if(aK==="0"){aH=J(aC.replace(/--rid--/g,aK))}else{aH=J(aA.replace(/--rid--/g,aK))}aI.append(aH);y(aH)});J('[auto-adjust-trigger-source|="auto-adjust-enabled-'+aF+"-"+aE+'"]').change()}function V(){var av=J(this),at=null,aw=null,ax=av.attr("inherit-css-source"),au=null;if(av.is("input")){if(av.attr("type")==="checkbox"){at='input[type="checkbox"]';aw=av.is(":checked")}else{at="input";aw=av.val()}}else{at="select";aw=av.val()}au=J(at+'[inherit-css-target="'+ax+'"]');au.each(function(aA,aC){var ay=J(aC),az=ay.attr("responsive-id"),aB=J('[inherit-css-switch="'+ax+'"][responsive-id="'+az+'"]');if(aB.prop("checked")){if(at==='input[type="checkbox"]'){ay.prop("checked",aw).change()}else{ay.val(aw).change();if(ay.hasClass("nqpc-picker-input-iyxm")){aC.color.importColor()}}}})}function d(){var at=J(this),au=null;if(at.prop("checked")){au=at.attr("inherit-css-switch");J('[inherit-css-source="'+au+'"]').change()}}function n(aC,aA,at,az){var aB=J(".customization-section-"+aC+"-"+aA),au,ay,ax,aw,av;for(au=0;au<aB.length;++au){ax=J(aB[au]);ay=ax.attr("responsive-id");aw=J("#popup-fluid-element-customization-"+aC+"-"+aA+"-"+at+"-"+ay);av=J("#popup-fluid-element-customization-"+aC+"-"+aA+"-"+az+"-"+ay);if(aw.length>0&&av.length>0){av.before(aw)}else{alert("Invalid move operation")}aw=J("#popupally-preview-"+aC+"-"+aA+"-"+at+"-"+ay);av=J("#popupally-preview-"+aC+"-"+aA+"-"+az+"-"+ay);if(aw.length>0&&av.length>0){av.before(aw)}else{alert("Invalid move operation")}}}function Z(aC,aA,at,az){var aB=J(".customization-section-"+aC+"-"+aA),au,ay,ax,aw,av;for(au=0;au<aB.length;++au){ax=J(aB[au]);ay=ax.attr("responsive-id");aw=J("#popup-fluid-element-customization-"+aC+"-"+aA+"-"+at+"-"+ay);av=J("#popup-fluid-element-customization-"+aC+"-"+aA+"-"+az+"-"+ay);if(aw.length>0&&av.length>0){av.after(aw)}else{alert("Invalid move operation")}aw=J("#popupally-preview-"+aC+"-"+aA+"-"+at+"-"+ay);av=J("#popupally-preview-"+aC+"-"+aA+"-"+az+"-"+ay);if(aw.length>0&&av.length>0){av.after(aw)}else{alert("Invalid move operation")}}}J(document).on("click",".popupally-setting-fluid-order-up",function(){var ay=J(this),ax=ay.attr("popup-id"),av=ay.attr("template-id"),au=ay.attr("element-id"),at=J(".popup-fluid-element-order-"+ax+"-"+av),aw;for(aw=1;aw<at.length;++aw){if(au==at[aw].value){n(ax,av,au,at[aw-1].value)}}});J(document).on("click",".popupally-setting-fluid-order-down",function(){var ay=J(this),ax=ay.attr("popup-id"),av=ay.attr("template-id"),au=ay.attr("element-id"),at=J(".popup-fluid-element-order-"+ax+"-"+av),aw;for(aw=0;aw<at.length-1;++aw){if(au==at[aw].value){Z(ax,av,au,at[aw+1].value)}}});J(document).on("click touchend",".popupally-customization-element-add-button",ah);J(document).on("click touchend",".popupally-customization-css-add-button",am);J(document).on("change",".popupally-customization-css-add-selection",am);J(document).on("click touchend",".popupally-customization-responsive-add-button",G);J(document).on("click touchend",".popupally-fluid-element-copy",P);J(document).on("change","[inherit-css-source]",V);J(document).on("change","[inherit-css-switch]",d);var R=false;function A(at){window.send_to_editor=function(av){};R={};for(var au in wp.media.view){if("insertIntoPost" in wp.media.view[au]){R[au]=wp.media.view[au].insertIntoPost;wp.media.view[au].insertIntoPost=at}}}function aj(){for(var at in wp.media.view){if("insertIntoPost" in wp.media.view[at]){wp.media.view[at].insertIntoPost=R[at]}}R=false}function ac(){var au=J(this),at=au.attr("upload-image");A("Add to popup");wp.media.editor.send.attachment=function(av,aw){J(at).val(aw.url).change();aj()};wp.media.editor.open(at,{multiple:false});J("div.media-frame-menu").hide();return false}J(document).on("click touchend","[upload-image]",ac);function c(au,at,aw,av){au.each(function(ay,aA){var ax=J(aA),az=ax.attr("data-dependency-value"),aB=ax.attr("data-dependency-value-not");if(typeof az!==typeof undefined&&az!==false){if(az===at){aw(ax)}else{av(ax)}}if(typeof aB!==typeof undefined&&aB!==false){if(aB!==at){aw(ax)}else{av(ax)}}})}function D(aw){var av=J(this),au=J("#popupally-split-test-max-test"),ax=parseInt(au.val())+1,at=J("#popupally-split-test-template").html();at=at.replace(new RegExp("--id--","g"),ax);au.val(ax);av.before(at)}function k(ay,aw){var at=ay.find(".popupally-split-test-weight"),aA=[],aC=0,au=0,aB=0,av=100,ax=0,az=at.length;if(aw){au=Math.floor(100/az);av=Math.max(1,100-au);at[az-1].value=au;--az}for(ax=0;ax<az;++ax){au=Math.max(0,parseInt(at[ax].value));au=Math.min(100,au);aA.push(au);aB+=au}if(aB<=0){if(aw){at[az].value=100}}else{aC=av;for(ax=1;ax<az;++ax){au=Math.floor(aA[ax]/aB*av);at[ax].value=au;aC-=au}at[0].value=aC}}function Y(ax){var aw=J(this),az=aw.attr("popupally-add-split-test-variate"),av=J("#popupally-split-test-definition-"+az),au=J("#popupally-split-test-max-variate-"+az),ay=parseInt(au.val())+1,at=J("#popupally-split-test-row-template").html();at=at.replace(new RegExp("--id--","g"),az);at=at.replace(new RegExp("--row-id--","g"),ay);au.val(ay);av.append(at);k(av,true)}function e(){var ax=J(this),at=ax.attr("popup-id"),aw=J("#display-regex-filter-count-"+at),ay=parseInt(aw.val())+1,av=J("#regex-filter-"+at),au=popupally_pro_default_code["display-regex-filter-row"].replace(/--rid--/g,ay).replace(/--id--/g,at);aw.val(ay);av.append(au)}function B(){J(document).on("change","[popupally-change-source]",function(){var at=J(this),aw="false",av=at.attr("popupally-change-source"),au=J('[data-dependency="'+av+'"]');if(at.attr("type")==="checkbox"){if(at.is(":checked")){aw="true"}}else{aw=at.val()}if(aw){aw=aw.replace(/\"/g,'\\"')}c(au.filter("[hide-toggle]"),aw,function(ax){ax.show();if(ax.hasClass("popupally-name-edit")){ax.focus()}},function(ax){ax.hide();if(ax.is("option:selected")){ax.prop("selected",false);ax.parent("select").change()}});c(au.filter("[readonly-toggle]"),aw,function(ax){ax.prop("readonly",false)},function(ax){ax.prop("readonly",true)})});J(document).on("resize",".follow-scroll",function(){var au=J(this).height()+30,at=J(this).attr("margin-before");J(at).css("margin-top",au+"px")});J(document).on("click change",".popupally-update-follow-scroll",function(){al()});J(document).on("change","textarea",function(){J(this).text(J(this).val())});J(document).on("change","select",function(){var at=J(this).children(":selected");J(this).children().not(at).removeAttr("selected");at.attr("selected","selected")});J(document).on("change",'input[type="text"]',function(){J(this).attr("value",J(this).val())});J(document).on("change","[verify-px-pct-input]",function(){var aw=J(this),at=aw.attr("verify-px-pct-input"),av=aw.val(),au="";if(av){av=av.toLowerCase();if(av.indexOf(" ")>=0){au="This value must not container space."}else{if(av.indexOf("px")!==av.length-2&&av.indexOf("%")!==av.length-1){au='This value must end with "px" or "%".'}}}else{au="This value must not be empty."}J(at).text(au)});J(document).on("change","[verify-auto-px-pct-input]",function(){var aw=J(this),at=aw.attr("verify-auto-px-pct-input"),av=aw.val(),au="";if(av){av=av.toLowerCase();if(av.indexOf(" ")>=0){au="This value must not container space."}else{if(av!=="auto"&&av.indexOf("px")!==av.length-2&&av.indexOf("%")!==av.length-1){au='This value must be "auto" or ends with "px" / "%".'}}}else{au="This value must not be empty."}J(at).text(au)});J(document).on("click","[click-target][click-value]",function(aw){var av=J(this),at=av.attr("click-target"),au=av.attr("click-value");J(at).val(au).change();F();return false});J(document).on("dblclick","[double-click-target][click-value]",function(aw){var av=J(this),at=av.attr("double-click-target"),au=av.attr("click-value");J(at).val(au).change();F();return false});J(document).on("click touchend",".popupally-add-split-test",D);J(document).on("click touchend","[popupally-add-split-test-variate]",Y);J(document).on("click touchend",".popupally-customization-regex-add-button",e);J(document).on("change","[signup-form-hide]",function(){var av=J(this),au=av.prop("checked"),aw=av.attr("signup-form-hide"),ax=av.attr("popup-id"),at=J('[popup-id="'+ax+'"][signup-html-template="'+aw+'"]');if(au){at.hide()}else{at.show()}});J(document).on("change","[popupally-remove-step-aside]",function(){var aw=J(this),au=aw.prop("checked"),at=J(aw.attr("popupally-remove-step-aside"));if(au){at.removeClass("step-aside")}else{at.addClass("step-aside")}var av=J(window).scrollTop(),ax=av+J(window).height();ae(at,av,ax)});al()}function L(av){var at,au;if(document.body.createTextRange){at=document.body.createTextRange();at.moveToElementText(av);at.select()}else{if(window.getSelection){au=window.getSelection();at=document.createRange();at.selectNodeContents(av);au.removeAllRanges();au.addRange(at)}}}J(document).on("touchend click",".popupally-code-to-copy",function(at){L(this)});B();J("[preview-update-target]").change();J("#popupally-loading-overlay").remove()});